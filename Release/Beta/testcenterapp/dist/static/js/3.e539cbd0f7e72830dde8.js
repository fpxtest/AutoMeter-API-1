webpackJsonp([3],{SldL:function(e,t){!function(t){"use strict";var a,n=Object.prototype,i=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",r=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag",o="object"==typeof e,p=t.regeneratorRuntime;if(p)o&&(e.exports=p);else{(p=t.regeneratorRuntime=o?e.exports:{}).wrap=y;var u="suspendedStart",m="suspendedYield",h="executing",d="completed",f={},v={};v[l]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(F([])));b&&b!==n&&i.call(b,l)&&(v=b);var x=k.prototype=_.prototype=Object.create(v);w.prototype=x.constructor=k,k.constructor=w,k[c]=w.displayName="GeneratorFunction",p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(x),e},p.awrap=function(e){return{__await:e}},S($.prototype),$.prototype[r]=function(){return this},p.AsyncIterator=$,p.async=function(e,t,a,n){var i=new $(y(e,t,a,n));return p.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(x),x[c]="Generator",x[l]=function(){return this},x.toString=function(){return"[object Generator]"},p.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},p.values=F,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=a)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=a),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var l=this.tryEntries[s],r=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var c=i.call(l,"catchLoc"),o=i.call(l,"finallyLoc");if(c&&o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var l=s?s.completion:{};return l.type=e,l.arg=t,s?(this.method="next",this.next=s.finallyLoc,f):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var i=n.arg;j(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:F(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=a),f}}}function y(e,t,a,n){var i=t&&t.prototype instanceof _?t:_,s=Object.create(i.prototype),l=new P(n||[]);return s._invoke=function(e,t,a){var n=u;return function(i,s){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw s;return z()}for(a.method=i,a.arg=s;;){var l=a.delegate;if(l){var r=O(l,a);if(r){if(r===f)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===u)throw n=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=h;var c=L(e,t,a);if("normal"===c.type){if(n=a.done?d:m,c.arg===f)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n=d,a.method="throw",a.arg=c.arg)}}}(e,a,l),s}function L(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}function _(){}function w(){}function k(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function $(e){var t;this._invoke=function(a,n){function s(){return new Promise(function(t,s){!function t(a,n,s,l){var r=L(e[a],e,n);if("throw"!==r.type){var c=r.arg,o=c.value;return o&&"object"==typeof o&&i.call(o,"__await")?Promise.resolve(o.__await).then(function(e){t("next",e,s,l)},function(e){t("throw",e,s,l)}):Promise.resolve(o).then(function(e){c.value=e,s(c)},l)}l(r.arg)}(a,n,t,s)})}return t=t?t.then(s,s):s()}}function O(e,t){var n=e.iterator[t.method];if(n===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=a,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=L(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var s=i.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=a),t.delegate=null,f):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function F(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=a,t.done=!0,t};return s.next=s}}return{next:z}}function z(){return{value:a,done:!0}}}(function(){return this}()||Function("return this")())},Xxa5:function(e,t,a){e.exports=a("jyFz")},exGp:function(e,t,a){"use strict";t.__esModule=!0;var n,i=a("//Fk"),s=(n=i)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new s.default(function(e,a){return function n(i,l){try{var r=t[i](l),c=r.value}catch(e){return void a(e)}if(!r.done)return s.default.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}("next")})}}},"j7l/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),s=a("exGp"),l=a.n(s),r=a("Dd8w"),c=a.n(r),o=a("2d0t"),p=a("W+bg"),u=a("XcM5"),m=a("W5b6"),h=a("NXqa"),d=a("vuyV"),f=a("0xDb"),v=a("W/rB"),g=a("L6vm"),b=a("vLgD");var x=a("NYxO"),y={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{datevisible:!1,timevisible:!1,itemplanKey:null,itemcaseKey:null,planbusinessdiclist:[],tmpexecuteplanname:"",tmpcasedeployunitname:null,tmpcaseapiname:null,tmpcaseexecuteplanid:null,tmpcasecasetype:null,show:!1,PerformanceVisible:!1,enviromentnameList:[],apiList:[],deployunitList:[],multipleSelection:[],casemultipleSelection:[],executeplanList:[],testcaseList:[],testcaselastList:[],executeplancaseList:[],executeplancaseexistList:[],executeplancaseremovetList:[],executeplanstopList:[],tmpplanbatchList:[],paramsList:[],listLoading:!1,caselistLoading:!1,total:0,casetotal:0,apiQuery:{page:1,size:10,deployunitname:""},listQuery:{page:1,size:10,listLoading:!0,executeplanname:""},caselistQuery:{page:1,size:10,listLoading:!0,deployunitname:null,apiname:null,executeplanid:null,casetype:null},dialogStatus:"add",dialogFormVisible:!1,casedialogFormVisible:!1,batchdialogFormVisible:!1,CollectionParamsFormVisible:!1,modifyparamdialogFormVisible:!1,loadcase:"装载用例",loadbatch:"执行计划",textMap:{updateRole:"修改测试集合",update:"修改测试集合",add:"添加测试集合"},paramstextMap:{updateRole:"修改参数",update:"修改参数",add:"添加参数"},diclevelQuery:{page:1,size:100,diccode:"planbusinesstype"},btnLoading:!1,casebtnLoading:!1,execbtnLoading:!1,tmpexecuteplan:{id:"",executeplanname:"",enviromentname:"",envid:"",status:"",usetype:"",businesstype:"",ip:"",memo:"",creator:"",runmode:""},tmpplanbatch:{executeplanid:"",executeplanname:"",batchname:"",creator:"",exectype:"",exectmpdate:"",execdate:"",exectime:""},tmpplanenv:{id:"",envid:"",enviromentname:""},tmpapicases:{id:"",casename:"",deployunitname:"",apiname:"",casejmxname:"",casecontent:"",expect:"",level:"",memo:"",creator:"admin"},tmpparam:{id:"",executeplanid:"",paramstype:"",keyname:"",keyvalue:""},tmpep:{executeplanid:""},search:{page:1,size:10,executeplanname:null,businesstype:""},searchcase:{page:1,size:10,deployunitname:null,apiname:null,executeplanid:null,casetype:null},searchparam:{page:1,size:10}}},computed:c()({},Object(x.b)(["name","sidebar","avatar"])),created:function(){this.getexecuteplanList(),this.getapiList(),this.getdepunitList(),this.getenviromentallList(),this.getdatabydiccodeList()},methods:{getdatabydiccodeList:function(){var e=this;Object(g.b)(this.diclevelQuery).then(function(t){e.planbusinessdiclist=t.data.list}).catch(function(t){e.$message.error("加载组件名字典列表失败")})},unix2CurrentTime:f.b,searchparamsbyepid:function(){var e,t=this;console.log(this.tmpep),(e=this.tmpep,Object(b.a)({url:"/executeplan/params/searchparamsbyepid",method:"post",data:e})).then(function(e){t.paramsList=e.data.list}).catch(function(e){t.$message.error("加载params列表失败")})},stopexecuteplanList:function(){for(var e=this,t=0;t<this.multipleSelection.length;t++)"waiting"!==this.multipleSelection[t].status&&"new"!==this.multipleSelection[t].status&&"finish"!==this.multipleSelection[t].status&&"stop"!==this.multipleSelection[t].status||this.multipleSelection.splice(t);if(0===this.multipleSelection.length)this.$message.error("未选择执行计划,或者只有运行中才可以停止");else{for(var a=0;a<this.multipleSelection.length;a++)this.executeplanstopList.push({id:this.multipleSelection[a].id,status:"stop"});Object(d.k)(this.executeplanstopList).then(function(){e.$message.success("已停止执行计划"),e.btnLoading=!1}).catch(function(t){e.$message.error("停止计划执行失败"),e.btnLoading=!1})}this.getexecuteplanList()},savebatchandexecuteplancase:function(){var e=this;this.$refs.tmpplanbatch.validate(function(t){if(t){if(e.btnLoading=!0,0===e.multipleSelection.length)return void e.$message.error("未选择执行计划,或者所选计划已经在执行中");if(e.multipleSelection.length>1)return void e.$message.error("不支持多执行计划一起提交，单个提交");e.tmpplanbatch.executeplanname=e.multipleSelection[0].executeplanname,e.tmpplanbatch.execdate=e.tmpplanbatch.exectmpdate+" "+e.tmpplanbatch.exectime+":00",":00"===e.tmpplanbatch.execdate&&(e.tmpplanbatch.execdate="/"),""===e.tmpplanbatch.exectmpdate&&(e.tmpplanbatch.execdate=e.tmpplanbatch.exectime+":00"),Object(m.a)(e.tmpplanbatch).then(function(){e.executeplancase(),e.batchdialogFormVisible=!1}).catch(function(t){e.$message.error("计划执行失败")})}})},executeplancase:function(){var e=this;this.tmpplanbatchList=[],this.$refs.tmpplanbatch.validate(function(t){if(t){for(var a=0;a<e.multipleSelection.length;a++)"running"===e.multipleSelection[a].status&&e.multipleSelection.splice(a);if(0===e.multipleSelection.length)e.$message.error("未选择执行计划,或者所选计划已经在执行中");else if(e.multipleSelection.length>1)e.$message.error("不支持多执行计划一起提交，单个提交");else{for(var n=0;n<e.multipleSelection.length;n++)e.tmpplanbatchList.push({planid:e.multipleSelection[0].id,batchname:e.tmpplanbatch.batchname});Object(d.c)(e.tmpplanbatchList).then(function(){e.$message.success("测试集合已经提交，即将开始执行")}).catch(function(t){e.$message.error("计划失败")})}e.getexecuteplanList()}})},handleClickTableRow:function(e,t,a){},handleSelectionChange:function(e){this.multipleSelection=e,console.log("00000000000000000000000000"),console.log(this.multipleSelection)},casehandleClickTableRow:function(e,t,a){console.log(e)},casehandleSelectionChange:function(e){this.casemultipleSelection=e},ustypeChanged:function(e){"性能"===e?(this.PerformanceVisible=!0,this.tmpexecuteplan.runmode=""):(this.PerformanceVisible=!1,this.tmpexecuteplan.runmode="多机执行")},exectypeselectChanged:function(e){"立即执行"===e&&(this.datevisible=!1,this.timevisible=!1),"某天定时"===e&&(this.datevisible=!0,this.timevisible=!0,this.tmpplanbatch.execdate="",this.tmpplanbatch.exectime=""),"每天定时"===e&&(this.datevisible=!1,this.timevisible=!0,this.tmpplanbatch.exectime="")},paramstypeselectChanged:function(e){this.tmpparam.keyname="",this.tmpparam.keyvalue=""},getexecuteplanList:function(){var e=this;this.search.execplanname=this.tmpexecplanname,this.search.batchname=this.tmpbatchname,this.listLoading=!0,Object(d.i)(this.search).then(function(t){e.executeplanList=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("加载字典列表失败")})},searchBy:function(){var e=this;this.search.page=1,this.listLoading=!0,Object(d.i)(this.search).then(function(t){e.itemKey=Math.random(),e.executeplanList=t.data.list,e.total=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),this.tmpexecuteplanname=this.search.executeplanname,this.listLoading=!1,this.btnLoading=!1},handleSizeChange:function(e){this.search.page=1,this.search.size=e,this.getexecuteplanList()},handleCurrentChange:function(e){this.search.page=e,this.getexecuteplanList()},getIndex:function(e){return(this.search.page-1)*this.search.size+e+1},paramgetIndex:function(e){return(this.searchparam.page-1)*this.searchparam.size+e+1},enviromentselectChanged:function(e){for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmpexecuteplan.envid=this.enviromentnameList[t].id),console.log(this.enviromentnameList[t].id)},selectChanged:function(e){var t=this;this.apiList=null,this.apiQuery.deployunitname=e,Object(p.i)(this.apiQuery).then(function(e){t.apiList=e.data.list}).catch(function(e){t.$message.error("加载api列表失败")})},getapiList:function(){var e=this;this.caselistLoading=!0,Object(p.i)(this.listQuery).then(function(t){e.apiList=t.data.list,e.caselistLoading=!1}).catch(function(t){e.$message.error("加载api列表失败")})},getenviromentallList:function(){var e=this;Object(v.c)().then(function(t){e.enviromentnameList=t.data}).catch(function(t){e.$message.error("加载环境列表失败")})},getdepunitList:function(){var e=this;this.caselistLoading=!0,Object(u.d)(this.listQuery).then(function(t){e.deployunitList=t.data.list}).catch(function(t){e.$message.error("加载发布单元列表失败")})},getcaseList:function(){var e=this;this.caselistLoading=!0,Object(o.d)(this.listQuery).then(function(t){e.apicasesList=t.data.list,e.caselistLoading=!1}).catch(function(t){e.$message.error("加载用例列表失败")})},searchcaseBy:function(){this.searchtestplanexistcase()},gettestcaselastList:function(){var e=this;return l()(i.a.mark(function t(){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(console.log(e.testcaseList.length),console.log(e.executeplancaseexistList.length),a=0;a<e.testcaseList.length;a++)for(n=0;n<e.executeplancaseexistList.length;n++)e.testcaseList[a].id===e.executeplancaseexistList[n].testcaseid?e.testcaselastList.push({checkstats:!0,deployunitname:e.testcaseList[a].deployunitname,apiname:e.testcaseList[a].apiname,casename:e.testcaseList[a].casename,expect:e.testcaseList[a].expect}):e.testcaselastList.push({checkstats:!1,deployunitname:e.testcaseList[a].deployunitname,apiname:e.testcaseList[a].apiname,casename:e.testcaseList[a].casename,expect:e.testcaseList[a].expect});console.log(e.testcaselastList);case 4:case"end":return t.stop()}},t,e)}))()},searchcaseBydepandapi:function(){var e=this;return l()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.searchcase.validate(function(t){t&&(e.casebtnLoading=!0,e.caselistLoading=!0,e.searchcase.page=e.caselistQuery.page,e.searchcase.size=e.caselistQuery.size,Object(o.k)(e.searchcase).then(function(t){e.testcaseList=t.data.list,console.log(e.testcaseList.length),e.casetotal=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),e.caselistLoading=!1,e.casebtnLoading=!1)});case 1:case"end":return t.stop()}},t,e)}))()},searchtestplanexistcase:function(){var e=this;this.testcaselastList=[],this.$refs.searchcase.validate(function(t){t&&(e.searchcase.executeplanid=e.tmpexecuteplan.id,e.searchcase.casetype=e.tmpexecuteplan.usetype,e.searchcase.page=1,Object(h.f)(e.searchcase).then(function(t){e.testcaselastList=t.data.list,e.casetotal=t.data.total,e.$nextTick(function(){for(var t=0;t<e.testcaselastList.length;t++)!0===e.testcaselastList[t].status&&e.$refs.caseTable.toggleRowSelection(e.testcaselastList[t],!0)})}).catch(function(t){e.$message.error("获取已装载的用例失败")}))}),this.tmpcasedeployunitname=this.searchcase.deployunitname,this.tmpcaseapiname=this.searchcase.apiname,this.tmpcaseexecuteplanid=this.searchcase.executeplanid,this.tmpcasecasetype=this.searchcase.casetype},casehandleSizeChange:function(e){this.searchcase.page=1,this.searchcase.size=e,this.searchtestplanexistcase()},casehandleCurrentChange:function(e){this.searchcase.page=e,this.searchtestplanexistcase()},casegetIndex:function(e){return(this.searchcase.page-1)*this.searchcase.size+e+1},showAddexecuteplanDialog:function(){this.dialogFormVisible=!0,this.dialogStatus="add",this.tmpexecuteplan.id="",this.tmpexecuteplan.executeplanname="",this.tmpexecuteplan.status="new",this.tmpexecuteplan.memo="",this.tmpexecuteplan.usetype="",this.tmpexecuteplan.enviromentname="",this.tmpexecuteplan.businesstype="",this.tmpexecuteplan.creator=this.name,this.tmpexecuteplan.runmode=""},showplanparamsDialog:function(e){this.CollectionParamsFormVisible=!0,this.tmpparam.executeplanid=this.executeplanList[e].id,this.tmpep.executeplanid=this.executeplanList[e].id,this.searchparamsbyepid()},showAddapiparamsDialog:function(){this.modifyparamdialogFormVisible=!0,this.ParamsdialogStatus="add",this.tmpparam.id="",this.tmpparam.paramstype="",this.tmpparam.keyname="",this.tmpparam.keyvalue=""},showUpdateparamsDialog:function(e){this.modifyparamdialogFormVisible=!0,this.ParamsdialogStatus="update",this.tmpparam.id=this.paramsList[e].id,this.tmpparam.paramstype=this.paramsList[e].paramstype,this.tmpparam.keyname=this.paramsList[e].keyname,this.tmpparam.keyvalue=this.paramsList[e].keyvalue},showplanbatchDialog:function(){var e=this;this.tmpplanbatch.exectmpdate="",this.tmpplanbatch.exectime="",this.tmpplanbatch.execdate="",this.tmpplanbatch.exectype="",this.timevisible=!1,this.datevisible=!1;for(var t=0;t<this.multipleSelection.length;t++)"running"===this.multipleSelection[t].status&&this.multipleSelection.splice(t);0===this.multipleSelection.length?this.$message.error("未选择执行计划,或者所选计划已经在执行中"):this.multipleSelection.length>1?this.$message.error("不支持多执行计划一起提交，单个提交"):(this.tmpplanenv.id=this.multipleSelection[0].id,this.tmpplanenv.envid=this.multipleSelection[0].envid,this.tmpplanenv.enviromentname=this.multipleSelection[0].enviromentname,Object(d.b)(this.tmpplanenv).then(function(){e.batchdialogFormVisible=!0,e.tmpplanbatch.executeplanid=e.multipleSelection[0].id,e.tmpplanbatch.creator=e.name,e.tmpplanbatch.batchname=""}).catch(function(e){}))},addexecuteplan:function(){var e=this;this.$refs.tmpexecuteplan.validate(function(t){t&&(e.btnLoading=!0,"功能"===e.tmpexecuteplan.usetype&&(e.tmpexecuteplan.runmode="多机执行"),Object(d.a)(e.tmpexecuteplan).then(function(){e.$message.success("添加成功"),e.getexecuteplanList(),e.dialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1}))})},addparams:function(){var e=this;this.$refs.tmpparam.validate(function(t){var a;t&&(a=e.tmpparam,Object(b.a)({url:"/executeplan/params",method:"post",data:a})).then(function(){e.$message.success("添加成功"),e.modifyparamdialogFormVisible=!1,e.searchparamsbyepid()}).catch(function(t){e.$message.error("添加失败")})})},updatparam:function(){var e=this;this.$refs.tmpparam.validate(function(t){var a;t&&(a=e.tmpparam,Object(b.a)({url:"/executeplan/params/detail",method:"put",data:a})).then(function(){e.$message.success("更新成功"),e.searchparamsbyepid(),e.modifyparamdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},removeexecuteplanparam:function(e){var t=this;this.$confirm("删除该参数？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a,n=t.paramsList[e].id;(a=n,Object(b.a)({url:"/executeplan/params/"+a,method:"delete"})).then(function(){t.$message.success("删除成功"),t.searchparamsbyepid()})}).catch(function(){t.$message.info("已取消删除")})},showUpdateexecuteplanDialog:function(e){this.dialogFormVisible=!0,this.dialogStatus="update",this.tmpexecuteplan.id=this.executeplanList[e].id,this.tmpexecuteplan.executeplanname=this.executeplanList[e].executeplanname,this.tmpexecuteplan.status=this.executeplanList[e].status,this.tmpexecuteplan.usetype=this.executeplanList[e].usetype,this.tmpexecuteplan.memo=this.executeplanList[e].memo,this.tmpexecuteplan.enviromentname=this.executeplanList[e].enviromentname,this.tmpexecuteplan.businesstype=this.executeplanList[e].businesstype,this.tmpexecuteplan.creator=this.name,this.tmpexecuteplan.runmode=this.executeplanList[e].runmode,console.log(this.tmpexecuteplan.runmode),"性能"===this.tmpexecuteplan.usetype?this.PerformanceVisible=!0:(this.PerformanceVisible=!1,this.tmpexecuteplan.runmode="多机执行");for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===this.tmpexecuteplan.enviromentname&&(this.tmpexecuteplan.envid=this.enviromentnameList[t].id)},addexecuteplantestcase:function(){var e=this;if(this.executeplancaseList=[],0===this.casemultipleSelection.length)this.$message.error("请选择装载的用例");else{for(var t=0;t<this.casemultipleSelection.length;t++)this.executeplancaseList.push({executeplanid:this.tmpexecuteplan.id,deployunitid:this.casemultipleSelection[t].deployunitid,apiid:this.casemultipleSelection[t].apiid,deployunitname:this.casemultipleSelection[t].deployunitname,apiname:this.casemultipleSelection[t].apiname,testcaseid:this.casemultipleSelection[t].id,casename:this.casemultipleSelection[t].casename});Object(h.a)(this.executeplancaseList).then(function(){e.$message.success("装载成功")}).catch(function(t){e.$message.error("装载失败")})}},removeexecuteplantestcase:function(){var e=this;if(this.executeplancaseremovetList=[],this.testcaselastList.length===this.casemultipleSelection.length)this.$message.error("未找到需要取消装载的用例");else{for(var t=0;t<this.testcaselastList.length;t++){for(var a=!1,n=0;n<this.casemultipleSelection.length;n++)if(this.testcaselastList[t].id===this.casemultipleSelection[n].id){a=!0;break}this.testcaselastList[t].id,a||this.executeplancaseremovetList.push({executeplanid:this.tmpexecuteplan.id,deployunitname:this.testcaselastList[t].deployunitname,apiname:this.testcaselastList[t].apiname,testcaseid:this.testcaselastList[t].id,casename:this.testcaselastList[t].casename})}console.log(this.executeplancaseremovetList),Object(h.d)(this.executeplancaseremovetList).then(function(){e.$message.success("取消装载用例成功")}).catch(function(t){e.$message.error("取消装载用例失败")})}},showTestCaseDialog:function(e){this.casedialogFormVisible=!0,this.tmpexecuteplan.id=this.executeplanList[e].id,this.tmpexecuteplan.executeplanname=this.executeplanList[e].executeplanname,this.tmpexecuteplan.status=this.executeplanList[e].status,this.tmpexecuteplan.usetype=this.executeplanList[e].usetype,this.tmpexecuteplan.memo=this.executeplanList[e].memo,this.searchcase.deployunitname=null,this.searchcase.apiname=null,this.testcaselastList=[],this.casetotal=0},updateexecuteplan:function(){var e=this;this.$refs.tmpexecuteplan.validate(function(t){t&&Object(d.j)(e.tmpexecuteplan).then(function(){e.$message.success("更新成功"),e.getexecuteplanList(),e.dialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败"),e.btnLoading=!1})})},removeexecuteplan:function(e){var t=this;this.$confirm("删除该执行计划？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.executeplanList[e].id;Object(d.h)(a).then(function(){t.$message.success("删除成功"),t.getexecuteplanList()})}).catch(function(){t.$message.info("已取消删除")})},isUniqueDetail:function(e){for(var t=0;t<this.executeplanList.length;t++)if(this.executeplanList[t].id!==e.id&&this.executeplanList[t].executeplanname===e.executeplanname)return this.$message.error("执行计划名已存在"),!1;return!0}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("executeplan:list")?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-refresh"},nativeOn:{click:function(t){return t.preventDefault(),e.getexecuteplanList(t)}}},[e._v("刷新")]):e._e(),e._v(" "),e.hasPermission("executeplan:list")?a("el-button",{attrs:{type:"success",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showplanbatchDialog(t)}}},[e._v("运行")]):e._e(),e._v(" "),e.hasPermission("executeplan:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddexecuteplanDialog(t)}}},[e._v("添加测试集合")]):e._e()],1),e._v(" "),e.hasPermission("executeplan:search")?a("span",[a("el-form-item",[a("el-input",{attrs:{placeholder:"执行计划名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBy(t)}},model:{value:e.search.executeplanname,callback:function(t){e.$set(e.search,"executeplanname",t)},expression:"search.executeplanname"}})],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"业务类型"},model:{value:e.search.businesstype,callback:function(t){e.$set(e.search,"businesstype",t)},expression:"search.businesstype"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.planbusinessdiclist,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.dicitmevalue,value:e.dicitmevalue}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchBy}},[e._v("查询")])],1)],1):e._e()],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemplanKey,ref:"fileTable",attrs:{data:e.executeplanList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""},on:{"row-click":e.handleClickTableRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"集合名",align:"center",prop:"executeplanname",width:"100"}}),e._v(" "),e.show?a("el-table-column",{attrs:{label:"envid",align:"center",prop:"envid",width:"50"}}):e._e(),e._v(" "),e.show?a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",width:"50"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"业务类型",align:"center",prop:"businesstype",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行环境",align:"center",prop:"enviromentname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"usetype",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"运行模式",align:"center",prop:"runmode",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述",align:"center",prop:"memo",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n      ")]}}])}),e._v(" "),e.hasPermission("executeplan:update")||e.hasPermission("executeplan:delete")?a("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("executeplan:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateexecuteplanDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("executeplan:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removeexecuteplan(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),e.hasPermission("executeplan:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showplanparamsDialog(t.$index)}}},[e._v("全局参数")]):e._e()]}}],null,!1,1373332991)}):e._e()],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.search.page,"page-size":e.search.size,total:e.total,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"tmpexecuteplan",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpexecuteplan}},[a("el-form-item",{attrs:{label:"集合名",prop:"executeplanname",required:""}},[a("el-input",{attrs:{type:"text","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpexecuteplan.executeplanname,callback:function(t){e.$set(e.tmpexecuteplan,"executeplanname",t)},expression:"tmpexecuteplan.executeplanname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"usetype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"类型"},on:{change:function(t){return e.ustypeChanged(t)}},model:{value:e.tmpexecuteplan.usetype,callback:function(t){e.$set(e.tmpexecuteplan,"usetype",t)},expression:"tmpexecuteplan.usetype"}},[a("el-option",{attrs:{label:"功能",value:"功能"}}),e._v(" "),a("el-option",{attrs:{label:"性能",value:"性能"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行环境",prop:"enviromentname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"执行环境"},on:{change:function(t){return e.enviromentselectChanged(t)}},model:{value:e.tmpexecuteplan.enviromentname,callback:function(t){e.$set(e.tmpexecuteplan,"enviromentname",t)},expression:"tmpexecuteplan.enviromentname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.enviromentnameList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.enviromentname,value:e.enviromentname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"业务类型",prop:"businesstype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"业务类型"},model:{value:e.tmpexecuteplan.businesstype,callback:function(t){e.$set(e.tmpexecuteplan,"businesstype",t)},expression:"tmpexecuteplan.businesstype"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.planbusinessdiclist,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.dicitmevalue,value:e.dicitmevalue,required:""}})],1)})],2)],1),e._v(" "),e.PerformanceVisible?a("div",[a("el-form-item",{attrs:{label:"运行模式",prop:"runmode",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"运行模式"},model:{value:e.tmpexecuteplan.runmode,callback:function(t){e.$set(e.tmpexecuteplan,"runmode",t)},expression:"tmpexecuteplan.runmode"}},[a("el-option",{attrs:{label:"单机运行",value:"单机运行"}}),e._v(" "),a("el-option",{attrs:{label:"多机并行",value:"多机并行"}})],1)],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{type:"text","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpexecuteplan.memo,callback:function(t){e.$set(e.tmpexecuteplan,"memo",t)},expression:"tmpexecuteplan.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addexecuteplan(t)}}},[e._v("保存\n      ")]):e._e(),e._v(" "),"update"===e.dialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateexecuteplan(t)}}},[e._v("修改")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.loadcase,visible:e.casedialogFormVisible},on:{"update:visible":function(t){e.casedialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"searchcase",attrs:{inline:!0,model:e.searchcase}},[e.hasPermission("apicases:search")?a("span",[a("el-form-item",{attrs:{label:"发布单元:",prop:"deployunitname",required:""}},[a("el-select",{attrs:{placeholder:"发布单元"},on:{change:function(t){return e.selectChanged(t)}},model:{value:e.searchcase.deployunitname,callback:function(t){e.$set(e.searchcase,"deployunitname",t)},expression:"searchcase.deployunitname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"API:"}},[a("el-select",{attrs:{placeholder:"api名"},model:{value:e.searchcase.apiname,callback:function(t){e.$set(e.searchcase,"apiname",t)},expression:"searchcase.apiname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.apiList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchcaseBy}},[e._v("查询")])],1)],1):e._e()])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemcaseKey,ref:"caseTable",attrs:{data:e.testcaselastList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""},on:{"row-click":e.casehandleClickTableRow,"selection-change":e.casehandleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"selection",prop:"status",width:"50"}}),e._v(" "),e.show?a("el-table-column",{attrs:{label:"apiid",align:"center",prop:"apiid",width:"120"}}):e._e(),e._v(" "),e.show?a("el-table-column",{attrs:{label:"deployunitid",align:"center",prop:"deployunitid",width:"120"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"用例名",align:"center",prop:"casename",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布单元",align:"center",prop:"deployunitname",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"API",align:"center",prop:"apiname",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"期望值",align:"center",prop:"expect",width:"120"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchcase.page,"page-size":e.searchcase.size,total:e.casetotal,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.casehandleSizeChange,"current-change":e.casehandleCurrentChange}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.casedialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addexecuteplantestcase(t)}}},[e._v("装载")]),e._v(" "),a("el-button",{attrs:{type:"warning",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.removeexecuteplantestcase(t)}}},[e._v("取消装载")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.loadbatch,visible:e.batchdialogFormVisible},on:{"update:visible":function(t){e.batchdialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"tmpplanbatch",attrs:{model:e.tmpplanbatch}},[a("el-form-item",{attrs:{label:"执行计划：",prop:"batchname",required:""}},[a("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",placeholder:"例如2020-10-21-tag-101","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpplanbatch.batchname,callback:function(t){e.$set(e.tmpplanbatch,"batchname",t)},expression:"tmpplanbatch.batchname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"执行类型：",prop:"exectype",required:""}},[a("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"执行类型"},on:{change:function(t){return e.exectypeselectChanged(t)}},model:{value:e.tmpplanbatch.exectype,callback:function(t){e.$set(e.tmpplanbatch,"exectype",t)},expression:"tmpplanbatch.exectype"}},[a("el-option",{attrs:{label:"立即执行",value:"立即执行"}}),e._v(" "),a("el-option",{attrs:{label:"某天定时",value:"某天定时"}}),e._v(" "),a("el-option",{attrs:{label:"每天定时",value:"每天定时"}})],1)],1),e._v(" "),e.datevisible?a("div",[a("el-form-item",{attrs:{label:"选择日期：",prop:"exectmpdate",required:""}},[a("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.tmpplanbatch.exectmpdate,callback:function(t){e.$set(e.tmpplanbatch,"exectmpdate",t)},expression:"tmpplanbatch.exectmpdate"}})],1)],1):e._e(),e._v(" "),e.timevisible?a("div",[a("el-form-item",{attrs:{label:"选择时刻：",prop:"exectime",required:""}},[a("el-time-select",{staticStyle:{width:"60%"},attrs:{"picker-options":{start:"00:05",step:"00:10",end:"23:55"},placeholder:"选择时间"},model:{value:e.tmpplanbatch.exectime,callback:function(t){e.$set(e.tmpplanbatch,"exectime",t)},expression:"tmpplanbatch.exectime"}})],1)],1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.batchdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.execbtnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.savebatchandexecuteplancase(t)}}},[e._v("执行")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"全局参数",visible:e.CollectionParamsFormVisible},on:{"update:visible":function(t){e.CollectionParamsFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("executeplan:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddapiparamsDialog(t)}}},[e._v("添加全局参数")]):e._e()],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.paramsList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.paramgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"参数类型",align:"center",prop:"paramstype",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数名",align:"center",prop:"keyname",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数值",align:"center",prop:"keyvalue",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v(e._s(t.row.keyvalue))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),e.hasPermission("executeplan:update")||e.hasPermission("executeplan:delete")?a("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("executeplan:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateparamsDialog(t.$index)}}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("executeplan:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removeexecuteplanparam(t.$index)}}},[e._v("删除")]):e._e()]}}],null,!1,2267587065)}):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.paramstextMap[e.ParamsdialogStatus],visible:e.modifyparamdialogFormVisible},on:{"update:visible":function(t){e.modifyparamdialogFormVisible=t}}},[a("el-form",{ref:"tmpparam",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"30px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpparam}},[a("el-form-item",{attrs:{label:"参数类型",prop:"paramstype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"参数类型"},on:{change:function(t){return e.paramstypeselectChanged(t)}},model:{value:e.tmpparam.paramstype,callback:function(t){e.$set(e.tmpparam,"paramstype",t)},expression:"tmpparam.paramstype"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),a("el-option",{attrs:{label:"全局Header",value:"Header"}}),e._v(" "),a("el-option",{attrs:{label:"全局Body",value:"Body"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"参数名：",prop:"keyname",required:""}},[a("el-input",{attrs:{"prefix-icon":"el-icon-message","auto-complete":"off",placeholder:e.keyholder},model:{value:e.tmpparam.keyname,callback:function(t){e.$set(e.tmpparam,"keyname","string"==typeof t?t.trim():t)},expression:"tmpparam.keyname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数值：",prop:"keyvalue",required:""}},[a("el-input",{attrs:{type:"textarea",rows:"15",cols:"50","prefix-icon":"el-icon-message","auto-complete":"off",placeholder:e.keyholder},model:{value:e.tmpparam.keyvalue,callback:function(t){e.$set(e.tmpparam,"keyvalue","string"==typeof t?t.trim():t)},expression:"tmpparam.keyvalue"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.modifyparamdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.ParamsdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addparams(t)}}},[e._v("添加")]):e._e(),e._v(" "),"update"===e.ParamsdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updatparam(t)}}},[e._v("修改")]):e._e()],1)],1)],1)},staticRenderFns:[]},_=a("VU/8")(y,L,!1,null,null,null);t.default=_.exports},jyFz:function(e,t,a){var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,s=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=a("SldL"),i)n.regeneratorRuntime=s;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}}});
//# sourceMappingURL=3.e539cbd0f7e72830dde8.js.map