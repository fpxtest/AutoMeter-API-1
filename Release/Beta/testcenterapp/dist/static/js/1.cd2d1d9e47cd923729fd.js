webpackJsonp([1],{"3C/1":function(e,t,a){a("M6a0"),a("zQR9"),a("+tPU"),a("qCoq"),a("UvrK"),a("Xjd4"),a("bqnK"),e.exports=a("FeBl").Map},"4WTo":function(e,t,a){var s=a("NWt+");e.exports=function(e,t){var a=[];return s(e,!1,a.push,a,t),a}},"7Doy":function(e,t,a){var s=a("EqjI"),i=a("7UMu"),n=a("dSzd")("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),s(t)&&null===(t=t[n])&&(t=void 0)),void 0===t?Array:t}},"90i1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("BO1k"),i=a.n(s),n=a("d7EF"),p=a.n(n),o=a("ifoU"),c=a.n(o),r=a("Dd8w"),l=a.n(r),m=a("2d0t"),u=a("vLgD");var d=a("W+bg"),h=a("nAq6"),f=a("XcM5"),v=a("0xDb"),y=a("NYxO"),g={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{itemKey:null,tmpprotocal:null,tmpdeployunitname:null,tmpapiname:null,tmpcasetype:null,paraList:[],paravaluemap:[],multipleSelection:[],apiList:[],deployunitList:[],caseparamtypelist:[],caseparamsbytypelist:[],tmpcaseparamslist:[],sourcetestcaseList:[],listLoading:!1,threadloopvisible:!1,JmeterClassVisible:!1,caseindex:"",total:0,apiSearchQuery:{deployunitname:"",apiname:""},apiQuery:{deployunitname:""},dialogStatus:"add",paramtitle:"用例参数值",CopyApiCase:"复制用例",dialogFormVisible:!1,CopydialogFormVisible:!1,paramdialogFormVisible:!1,textMap:{updateRole:"修改API用例",update:"修改API用例",add:"添加API用例"},diclevelQuery:{page:1,size:10,diccode:"casecondition"},btnLoading:!1,tmpapicases:{id:"",apiid:"",deployunitid:"",casename:"",deployunitname:"",apiname:"",casejmxname:"",casecontent:"",casetype:"",threadnum:"",loops:"",expect:"",middleparam:"",level:"",memo:"",creator:""},tmpapicasesdata:{id:"",caseid:"",casename:"",propertytype:"",memo:"",casedataMap:[]},tmpcopycase:{sourcecaseid:"",sourcedeployunitid:"",sourcedeployunitname:"",sourcecasename:"",newcasename:""},casevalue:{caseid:"",propertytype:""},search:{page:1,size:10,deployunitname:null,apiname:null,casetype:null}}},created:function(){this.getapicasesList(),this.getdepunitLists(),this.getcaseconditionList()},computed:l()({},Object(y.b)(["name","sidebar","avatar"])),methods:{unix2CurrentTime:v.b,change:function(){this.$forceUpdate()},handleClickTableRow:function(e,t,a){},handleSelectionChange:function(e){this.multipleSelection=e},funorperformChanged:function(e){"性能"===e?(this.threadloopvisible=!0,this.tmpapicases.threadnum="",this.tmpapicases.loops=""):(this.threadloopvisible=!1,this.tmpapicases.threadnum=1,this.tmpapicases.loops=1)},selectparamsChanged:function(e){this.getcaseparamsbytype(e)},getcaseparamsbytype:function(e){var t,a=this;this.tmpcaseparamslist=null,this.paravaluemap;for(var s=0;s<this.caseparamsbytypelist.length;s++)this.caseparamsbytypelist[s].propertytype===e&&(this.tmpcaseparamslist=this.caseparamsbytypelist[s].keyname.split(","),this.casevalue.caseid=this.apicasesList[this.caseindex].id,this.casevalue.propertytype=e,(t=this.casevalue,Object(u.a)({url:"/api/casedata/casevalue",method:"post",data:t})).then(function(e){a.paraList=[],a.paravaluemap=new c.a;for(var t=0;t<e.data.list.length;t++)a.paravaluemap.set(e.data.list[t].apiparam,e.data.list[t].apiparamvalue);for(var s=0;s<a.tmpcaseparamslist.length;s++){var n=!0,o=!1,r=void 0;try{for(var l,m=i()(a.paravaluemap);!(n=(l=m.next()).done);n=!0){var u=l.value,d=p()(u,2),h=d[0],f=d[1];h===a.tmpcaseparamslist[s]&&a.paraList.push(f)}}catch(e){o=!0,r=e}finally{try{!n&&m.return&&m.return()}finally{if(o)throw r}}}null===a.paraList&&(a.paraList=new Array(a.tmpcaseparamslist.length))}).catch(function(e){a.$message.error()}))},getapicasesList:function(){var e=this;this.listLoading=!0,this.search.deployunitname=this.tmpdeployunitname,this.search.apiname=this.tmpapiname,this.search.tmpcasetype=this.tmpcasetype,Object(m.i)(this.search).then(function(t){e.apicasesList=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("加载用例列表失败")})},selectChanged:function(e){var t=this;this.apiList=[],this.tmpapicases.apiname="",this.apiQuery.deployunitname=e;for(var a=0;a<this.deployunitList.length;a++)this.deployunitList[a].deployunitname===e&&(this.tmpapicases.deployunitid=this.deployunitList[a].id);Object(d.c)(this.apiQuery).then(function(e){t.apiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")}),Object(f.b)(this.apiQuery).then(function(e){t.tmpprotocal=e.data.protocal,"http"===t.tmpprotocal||"https"===t.tmpprotocal?t.JmeterClassVisible=!1:(t.JmeterClassVisible=!0,t.tmpapicases.casejmxname="")}).catch(function(e){t.$message.error("加载发布单元信息失败")})},CopyCasesSourceDeployselectChanged:function(e){for(var t=this,a=0;a<this.deployunitList.length;a++)this.deployunitList[a].deployunitname===e&&(this.tmpcopycase.sourcedeployunitid=this.deployunitList[a].id);Object(m.e)(this.tmpcopycase).then(function(e){t.sourcetestcaseList=e.data}).catch(function(e){t.$message.error("根据发布单元id获取用例列表失败")})},CopySourceCasesChanged:function(e){for(var t=0;t<this.sourcetestcaseList.length;t++)this.sourcetestcaseList[t].casename===e&&(this.tmpcopycase.sourcecaseid=this.sourcetestcaseList[t].id)},apiselectChanged:function(e){this.apiSearchQuery.apiname=e;for(var t=0;t<this.apiList.length;t++)this.apiList[t].apiname===e&&(console.log(this.tmpapicases.apiid),this.tmpapicases.apiid=this.apiList[t].id)},deployunitselectChanged:function(e){var t=this;this.apiList=[],this.search.apiname="",this.apiQuery.deployunitname=e,Object(d.c)(this.apiQuery).then(function(e){t.apiList=e.data}).catch(function(e){t.$message.error("加载api列表失败")})},getdepunitLists:function(){var e=this;Object(f.e)().then(function(t){e.deployunitList=t.data}).catch(function(t){e.$message.error("加载发布单元列表失败")})},searchBy:function(){var e=this;this.search.page=1,this.listLoading=!0,Object(m.i)(this.search).then(function(t){e.itemKey=Math.random(),e.apicasesList=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("搜索失败")}),this.tmpdeployunitname=this.search.deployunitname,this.tmpapiname=this.search.apiname,this.tmpcasetype=this.search.tmpcasetype},handleSizeChange:function(e){this.search.page=1,this.search.size=e,this.getapicasesList()},handleCurrentChange:function(e){this.search.page=e,this.getapicasesList()},getIndex:function(e){return(this.search.page-1)*this.search.size+e+1},showAddapicasesDialog:function(){this.dialogFormVisible=!0,this.dialogStatus="add",this.tmpapicases.id="",this.tmpapicases.casename="",this.tmpapicases.apiname="",this.tmpapicases.casetype="",this.tmpapicases.deployunitname="",this.tmpapicases.casejmxname="",this.tmpapicases.casecontent="",this.tmpapicases.expect="",this.tmpapicases.middleparam="",this.tmpapicases.level="",this.tmpapicases.memo="",this.tmpapicases.creator=this.name,console.log(this.name)},showCopyapicasesDialog:function(){this.CopydialogFormVisible=!0,this.tmpcopycase.newcasename="",this.tmpcopycase.sourcedeployunitname="",this.tmpcopycase.sourcecasename="",this.tmpcopycase.sourcedeployunitid="",this.tmpcopycase.sourcecaseid=""},copycases:function(){var e=this;this.$refs.tmpcopycase.validate(function(t){t&&(e.btnLoading=!0,Object(m.b)(e.tmpcopycase).then(function(){e.$message.success("复制成功"),e.getapicasesList(),e.CopydialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("复制失败"),e.btnLoading=!1}))})},addapicases:function(){var e=this;this.$refs.tmpapicases.validate(function(t){t&&(e.btnLoading=!0,e.tmpapicases.expect=e.tmpapicases.expect.trim(),"http"!==e.tmpprotocal&&"https"!==e.tmpprotocal||(e.tmpapicases.casejmxname="httpapi"),Object(m.a)(e.tmpapicases).then(function(){e.$message.success("添加成功"),e.getapicasesList(),e.dialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1}))})},addapicasesdata:function(){var e=this;this.tmpapicasesdata.casedataMap=[],this.$refs.tmpapicasesdata.validate(function(t){if(t){for(var a=0;a<e.tmpcaseparamslist.length;a++)for(var s=0;s<e.paraList.length;s++)if(a===s){var i={caseid:e.apicasesList[e.caseindex].id,casename:e.apicasesList[e.caseindex].casename,apiparam:e.tmpcaseparamslist[a],apiparamvalue:e.paraList[s],propertytype:e.tmpapicasesdata.propertytype,memo:"memo"};console.log(i),e.tmpapicasesdata.casedataMap.push(i)}(n=e.tmpapicasesdata,Object(u.a)({url:"/api/casedata",method:"post",data:n})).then(function(){e.$message.success("添加成功"),e.btnLoading=!1,e.paramdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1})}var n})},showUpdateapicasesDialog:function(e){this.dialogFormVisible=!0,this.dialogStatus="update",this.tmpapicases.id=this.apicasesList[e].id,this.tmpapicases.casename=this.apicasesList[e].casename,this.tmpapicases.apiname=this.apicasesList[e].apiname,this.tmpapicases.casetype=this.apicasesList[e].casetype,this.tmpapicases.deployunitname=this.apicasesList[e].deployunitname,this.tmpapicases.casejmxname=this.apicasesList[e].casejmxname,this.tmpapicases.casecontent=this.apicasesList[e].casecontent,this.tmpapicases.expect=this.apicasesList[e].expect,this.tmpapicases.middleparam=this.apicasesList[e].middleparam,this.tmpapicases.level=this.apicasesList[e].level,this.tmpapicases.memo=this.apicasesList[e].memo,this.tmpapicases.creator=this.name,"性能"===this.tmpapicases.casetype?(this.threadloopvisible=!0,this.tmpapicases.threadnum=this.apicasesList[e].threadnum,this.tmpapicases.loops=this.apicasesList[e].loops):(this.threadloopvisible=!1,this.tmpapicases.threadnum=1,this.tmpapicases.loops=1)},showUpdateapicasesparamsDialog:function(e){var t=this;this.tmpapicasesdata.caseid=this.apicasesList[e].id,this.tmpapicases.casename=this.apicasesList[e].casename,this.tmpapicases.deployunitname=this.apicasesList[e].deployunitname,this.tmpapicases.apiname=this.apicasesList[e].apiname,this.caseindex=e,this.tmpcaseparamslist=null,this.tmpapicasesdata.propertytype=null,this.caseparamtypelist=null,this.paramdialogFormVisible=!0,Object(h.b)(this.tmpapicases).then(function(e){t.caseparamsbytypelist=e.data.list,t.caseparamtypelist=t.caseparamsbytypelist,console.log(t.caseparamtypelist)}).catch(function(e){t.$message.error()})},showpreconditionDialog:function(){this.multipleSelection.length>1?this.$message.error("不支持多个用例一起设置条件，选择单个设置"):(this.preconditiondialogFormVisible=!0,this.tmpapicases.id=this.multipleSelection[0].id)},updateapicases:function(){var e=this;this.$refs.tmpapicases.validate(function(t){t&&(e.tmpapicases.expect=e.tmpapicases.expect.trim(),"http"!==e.tmpprotocal&&"https"!==e.tmpprotocal||(e.tmpapicases.casejmxname="httpapi"),Object(m.j)(e.tmpapicases).then(function(){e.$message.success("更新成功"),e.getapicasesList(),e.dialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败")}))})},removeapicases:function(e){var t=this;this.$confirm("删除该用例？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.apicasesList[e].id;Object(m.h)(a).then(function(){t.$message.success("删除成功"),t.getapicasesList()})}).catch(function(){t.$message.info("已取消删除")})},isUniqueDetail:function(e){for(var t=0;t<this.apicasesList.length;t++)if(this.apicasesList[t].id!==e.id&&this.apicasesList[t].deployunitname===e.deployunitname&&this.apicasesList[t].apiname===e.apiname&&this.apicasesList[t].casename===e.casename)return this.$message.error("用例名已存在"),!1;return!0}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("apicases:list")?a("el-button",{attrs:{type:"success",size:"mini",loading:e.btnLoading,icon:"el-icon-refresh"},nativeOn:{click:function(t){return t.preventDefault(),e.getapicasesList(t)}}},[e._v("刷新\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddapicasesDialog(t)}}},[e._v("添加用例\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showCopyapicasesDialog(t)}}},[e._v("复制用例\n          ")]):e._e()],1),e._v(" "),e.hasPermission("apicases:search")?a("span",[a("el-form-item",[a("el-select",{attrs:{placeholder:"发布单元"},on:{change:function(t){return e.deployunitselectChanged(t)}},model:{value:e.search.deployunitname,callback:function(t){e.$set(e.search,"deployunitname",t)},expression:"search.deployunitname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"api名"},model:{value:e.search.apiname,callback:function(t){e.$set(e.search,"apiname",t)},expression:"search.apiname"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.apiList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.apiname,value:e.apiname}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"用例类型"},model:{value:e.search.casetype,callback:function(t){e.$set(e.search,"casetype",t)},expression:"search.casetype"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),a("el-option",{attrs:{label:"功能",value:"功能"}}),e._v(" "),a("el-option",{attrs:{label:"性能",value:"性能"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchBy}},[e._v("查询")])],1)],1):e._e()],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.apicasesList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用例名",align:"center",prop:"casename",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布单元",align:"center",prop:"deployunitname",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"API",align:"center",prop:"apiname",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"Jmeter-Class",align:"center",prop:"casejmxname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"casetype",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"线程",align:"center",prop:"threadnum",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"循环",align:"center",prop:"loops",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例描述",align:"center",prop:"casecontent",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"期望值",align:"center",prop:"expect",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v(e._s(t.row.expect))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n        ")]}}])}),e._v(" "),e.hasPermission("apicases:update")||e.hasPermission("apicases:delete")?a("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("apicases:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateapicasesDialog(t.$index)}}},[e._v("修改\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removeapicases(t.$index)}}},[e._v("删除\n          ")]):e._e(),e._v(" "),e.hasPermission("apicases:params")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateapicasesparamsDialog(t.$index)}}},[e._v("参数值\n          ")]):e._e()]}}],null,!1,3481035580)}):e._e()],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.search.page,"page-size":e.search.size,total:e.total,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"tmpapicases",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"80px",model:e.tmpapicases}},[a("el-form-item",{attrs:{label:"发布单元",prop:"deployunitname",required:""}},[a("el-select",{attrs:{placeholder:"发布单元"},on:{change:function(t){return e.selectChanged(t)}},model:{value:e.tmpapicases.deployunitname,callback:function(t){e.$set(e.tmpapicases,"deployunitname",t)},expression:"tmpapicases.deployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"API",prop:"apiname",required:""}},[a("el-select",{attrs:{placeholder:"API"},on:{change:function(t){return e.apiselectChanged(t)}},model:{value:e.tmpapicases.apiname,callback:function(t){e.$set(e.tmpapicases,"apiname",t)},expression:"tmpapicases.apiname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.apiList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.apiname,value:e.apiname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例类型",prop:"casetype",required:""}},[a("el-select",{attrs:{placeholder:"用例类型"},on:{change:function(t){return e.funorperformChanged(t)}},model:{value:e.tmpapicases.casetype,callback:function(t){e.$set(e.tmpapicases,"casetype",t)},expression:"tmpapicases.casetype"}},[a("el-option",{attrs:{label:"功能",value:"功能"}}),e._v(" "),a("el-option",{attrs:{label:"性能",value:"性能"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例名",prop:"casename",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.casename,callback:function(t){e.$set(e.tmpapicases,"casename",t)},expression:"tmpapicases.casename"}})],1),e._v(" "),e.threadloopvisible?a("div",[a("el-form-item",{attrs:{label:"线程数",prop:"threadnum",required:""}},[a("el-input",{attrs:{maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.threadnum,callback:function(t){e.$set(e.tmpapicases,"threadnum",t)},expression:"tmpapicases.threadnum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"线程循环",prop:"loops",required:""}},[a("el-input",{attrs:{maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.loops,callback:function(t){e.$set(e.tmpapicases,"loops",t)},expression:"tmpapicases.loops"}})],1)],1):e._e(),e._v(" "),e.JmeterClassVisible?a("div",[a("el-form-item",{attrs:{label:"Jmeter",prop:"casejmxname",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.casejmxname,callback:function(t){e.$set(e.tmpapicases,"casejmxname",t)},expression:"tmpapicases.casejmxname"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"用例描述",prop:"casecontent",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"50","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapicases.casecontent,callback:function(t){e.$set(e.tmpapicases,"casecontent",t)},expression:"tmpapicases.casecontent"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"期望值",prop:"expect",required:""}},[a("el-input",{attrs:{type:"textarea",rows:"5",cols:"10",maxlength:"400","prefix-icon":"el-icon-message","auto-complete":"off",placeholder:"如果api返回是json类型使用jsonpath表示期望值,多个值用英文逗号隔开，例如：$.store.book[0].title:value,$.store.people[0].name:value\n如果api返回是html，xml则使用xpath表示期望值，多个值用英文逗号隔开 例如：//div/h3//text():value"},model:{value:e.tmpapicases.expect,callback:function(t){e.$set(e.tmpapicases,"expect","string"==typeof t?t.trim():t)},expression:"tmpapicases.expect"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中间变量",prop:"middleparam"}},[a("el-input",{attrs:{type:"textarea",maxlength:"400","prefix-icon":"el-icon-message","auto-complete":"off",placeholder:"接口运行后，在返回值中提取内容定义为变量，其他接口可以作为参数使用，例如：$token=data.plist[0].name"},model:{value:e.tmpapicases.middleparam,callback:function(t){e.$set(e.tmpapicases,"middleparam","string"==typeof t?t.trim():t)},expression:"tmpapicases.middleparam"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优先级",prop:"level"}},[a("el-input",{attrs:{type:"text",maxlength:"20","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpapicases.level,callback:function(t){e.$set(e.tmpapicases,"level",t)},expression:"tmpapicases.level"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{type:"text",maxlength:"100","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpapicases.memo,callback:function(t){e.$set(e.tmpapicases,"memo",t)},expression:"tmpapicases.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpapicases.resetFields()}}},[e._v("重置\n        ")]):e._e(),e._v(" "),"add"===e.dialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapicases(t)}}},[e._v("添加\n        ")]):e._e(),e._v(" "),"update"===e.dialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateapicases(t)}}},[e._v("修改\n        ")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.paramtitle,visible:e.paramdialogFormVisible},on:{"update:visible":function(t){e.paramdialogFormVisible=t}}},[a("el-form",{ref:"tmpapicasesdata",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"150px",model:e.tmpapicasesdata}},[a("el-form-item",{attrs:{label:"用例名"}},[a("el-input",{attrs:{readonly:"true"},model:{value:e.tmpapicases.casename,callback:function(t){e.$set(e.tmpapicases,"casename",t)},expression:"tmpapicases.casename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数类型",prop:"propertytype",required:""}},[a("el-select",{attrs:{placeholder:"参数类型"},on:{change:function(t){return e.selectparamsChanged(t)}},model:{value:e.tmpapicasesdata.propertytype,callback:function(t){e.$set(e.tmpapicasesdata,"propertytype",t)},expression:"tmpapicasesdata.propertytype"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.caseparamtypelist,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.propertytype,value:e.propertytype,required:""}})],1)})],2)],1),e._v(" "),e._l(e.tmpcaseparamslist,function(t,s){return a("el-form-item",{key:s,attrs:{label:t,required:""}},[a("el-input",{attrs:{type:"text","prefix-icon":"el-icon-edit"},model:{value:e.paraList[s],callback:function(t){e.$set(e.paraList,s,t)},expression:"paraList[index]"}})],1)})],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.paramdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapicasesdata(t)}}},[e._v("保存\n        ")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.CopyApiCase,visible:e.CopydialogFormVisible},on:{"update:visible":function(t){e.CopydialogFormVisible=t}}},[a("el-form",{ref:"tmpcopycase",staticClass:"small-space",staticStyle:{width:"350px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpcopycase}},[a("el-form-item",{attrs:{label:"源发布单元",prop:"sourcedeployunitname",required:""}},[a("el-select",{attrs:{placeholder:"发布单元"},on:{change:function(t){return e.CopyCasesSourceDeployselectChanged(t)}},model:{value:e.tmpcopycase.sourcedeployunitname,callback:function(t){e.$set(e.tmpcopycase,"sourcedeployunitname",t)},expression:"tmpcopycase.sourcedeployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例来源",prop:"sourcecasename",required:""}},[a("el-select",{attrs:{placeholder:"用例"},on:{change:function(t){return e.CopySourceCasesChanged(t)}},model:{value:e.tmpcopycase.sourcecasename,callback:function(t){e.$set(e.tmpcopycase,"sourcecasename",t)},expression:"tmpcopycase.sourcecasename"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.sourcetestcaseList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.casename,value:e.casename,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"新用例名",prop:"newcasename",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpcopycase.newcasename,callback:function(t){e.$set(e.tmpcopycase,"newcasename",t)},expression:"tmpcopycase.newcasename"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.CopydialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.copycases(t)}}},[e._v("保存\n        ")])],1)],1)],1)},staticRenderFns:[]},_=a("VU/8")(g,b,!1,null,null,null);t.default=_.exports},"9Bbf":function(e,t,a){"use strict";var s=a("kM2E");e.exports=function(e){s(s.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"9C8M":function(e,t,a){"use strict";var s=a("evD5").f,i=a("Yobk"),n=a("xH/j"),p=a("+ZMJ"),o=a("2KxR"),c=a("NWt+"),r=a("vIB/"),l=a("EGZi"),m=a("bRrM"),u=a("+E39"),d=a("06OY").fastKey,h=a("LIJb"),f=u?"_s":"size",v=function(e,t){var a,s=d(t);if("F"!==s)return e._i[s];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,r){var l=e(function(e,s){o(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=s&&c(s,a,e[r],e)});return n(l.prototype,{clear:function(){for(var e=h(this,t),a=e._i,s=e._f;s;s=s.n)s.r=!0,s.p&&(s.p=s.p.n=void 0),delete a[s.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var a=h(this,t),s=v(a,e);if(s){var i=s.n,n=s.p;delete a._i[s.i],s.r=!0,n&&(n.n=i),i&&(i.p=n),a._f==s&&(a._f=i),a._l==s&&(a._l=n),a[f]--}return!!s},forEach:function(e){h(this,t);for(var a,s=p(e,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(s(a.v,a.k,this);a&&a.r;)a=a.p},has:function(e){return!!v(h(this,t),e)}}),u&&s(l.prototype,"size",{get:function(){return h(this,t)[f]}}),l},def:function(e,t,a){var s,i,n=v(e,t);return n?n.v=a:(e._l=n={i:i=d(t,!0),k:t,v:a,p:s=e._l,n:void 0,r:!1},e._f||(e._f=n),s&&(s.n=n),e[f]++,"F"!==i&&(e._i[i]=n)),e},getEntry:v,setStrong:function(e,t,a){r(e,t,function(e,a){this._t=h(e,t),this._k=a,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},a?"entries":"values",!a,!0),m(t)}}},ALrJ:function(e,t,a){var s=a("+ZMJ"),i=a("MU5D"),n=a("sB3e"),p=a("QRG4"),o=a("oeOm");e.exports=function(e,t){var a=1==e,c=2==e,r=3==e,l=4==e,m=6==e,u=5==e||m,d=t||o;return function(t,o,h){for(var f,v,y=n(t),g=i(y),b=s(o,h,3),_=p(g.length),x=0,L=a?d(t,_):c?d(t,0):void 0;_>x;x++)if((u||x in g)&&(v=b(f=g[x],x,y),e))if(a)L[x]=v;else if(v)switch(e){case 3:return!0;case 5:return f;case 6:return x;case 2:L.push(f)}else if(l)return!1;return m?-1:r||l?l:L}}},HpRW:function(e,t,a){"use strict";var s=a("kM2E"),i=a("lOnJ"),n=a("+ZMJ"),p=a("NWt+");e.exports=function(e){s(s.S,e,{from:function(e){var t,a,s,o,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),void 0==e?new this:(a=[],t?(s=0,o=n(c,arguments[2],2),p(e,!1,function(e){a.push(o(e,s++))})):p(e,!1,a.push,a),new this(a))}})}},LIJb:function(e,t,a){var s=a("EqjI");e.exports=function(e,t){if(!s(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},UvrK:function(e,t,a){var s=a("kM2E");s(s.P+s.R,"Map",{toJSON:a("m9gC")("Map")})},Xjd4:function(e,t,a){a("9Bbf")("Map")},bqnK:function(e,t,a){a("HpRW")("Map")},ifoU:function(e,t,a){e.exports={default:a("3C/1"),__esModule:!0}},m9gC:function(e,t,a){var s=a("RY/4"),i=a("4WTo");e.exports=function(e){return function(){if(s(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},oeOm:function(e,t,a){var s=a("7Doy");e.exports=function(e,t){return new(s(e))(t)}},qCoq:function(e,t,a){"use strict";var s=a("9C8M"),i=a("LIJb");e.exports=a("qo66")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=s.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return s.def(i(this,"Map"),0===e?0:e,t)}},s,!0)},qo66:function(e,t,a){"use strict";var s=a("7KvD"),i=a("kM2E"),n=a("06OY"),p=a("S82l"),o=a("hJx8"),c=a("xH/j"),r=a("NWt+"),l=a("2KxR"),m=a("EqjI"),u=a("e6n0"),d=a("evD5").f,h=a("ALrJ")(0),f=a("+E39");e.exports=function(e,t,a,v,y,g){var b=s[e],_=b,x=y?"set":"add",L=_&&_.prototype,k={};return f&&"function"==typeof _&&(g||L.forEach&&!p(function(){(new _).entries().next()}))?(_=t(function(t,a){l(t,_,e,"_c"),t._c=new b,void 0!=a&&r(a,y,t[x],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in L&&(!g||"clear"!=e)&&o(_.prototype,e,function(a,s){if(l(this,_,e),!t&&g&&!m(a))return"get"==e&&void 0;var i=this._c[e](0===a?0:a,s);return t?this:i})}),g||d(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(t,e,y,x),c(_.prototype,a),n.NEED=!0),u(_,e),k[e]=_,i(i.G+i.W+i.F,k),g||v.setStrong(_,e,y),_}}});
//# sourceMappingURL=1.cd2d1d9e47cd923729fd.js.map